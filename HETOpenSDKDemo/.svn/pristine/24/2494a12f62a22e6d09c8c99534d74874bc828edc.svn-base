//
//  HETBLEMattressDevice.h
//  HETOpenSDKDemo
//
//  Created by mr.cao on 16/2/18.
//  Copyright © 2016年 mr.cao. All rights reserved.
//  床垫设备业务类

#import <Foundation/Foundation.h>
@class LGPeripheral;

@interface HETBLEMattressDeviceInfo : NSObject

@property (nonatomic, strong) NSString * deviceId;//设备标示
@property (nonatomic, assign) NSInteger heartValue;//心率

@property (nonatomic, assign) NSInteger breathValue;//呼吸

@property (nonatomic, assign) NSInteger snoreValue;//打鼾

@property (nonatomic, assign) NSInteger turnOverValue;//翻身次数

@property (nonatomic, assign) NSInteger havePeople;//是否有人

@property (nonatomic, assign) NSInteger fault;//设备故障

@end







@interface HETBLEMattressDevice : NSObject


+ (HETBLEMattressDevice *)sharedInstance;

/**
 *  绑定设备
 *
 *  @param curPeripheral 需要绑定的蓝牙设备对象
 *  @param successBlock  绑定成功的block
 *  @param failBlock     绑定失败的block
 */

- (void)bindBleDevice:(LGPeripheral *)curPeripheral SuccessBlock:(void(^)())successBlock FailBlock:(void(^)(NSError* error))failBlock;
/**
 *  获取历史数据
 *
 *  @param broadName  蓝牙设备名字，LGPeripheral.name
 *  @param deviceId   设备唯一deviceID，后台获取的
 *  @param successBlock 获取历史数据成功的回调
 *  @param failBlock   获取历史数据失败的回调
*  @param progressiveBlock   获取历史数据的进度，totalBytesRead当前已经获取到的数据大小，totalBytesExpected历史数据总共的数据大小
 */
-(void)fetchHistoryDatawithBLEBroadName:(NSString *)broadName withDeviceId:(NSString*)deviceId SuccessBlock:(void(^)())successBlock
                              FailBlock:(void(^)(NSError* error))failBlock
                       ProgressiveBlock:(void (^)(NSInteger totalBytesRead, NSInteger totalBytesExpected))progressiveBlock;





/**
 *  获取实时数据
 *
 *  @param successBlock 实时数据返回的数据
 *  @param failBlock    获取数据失败的block
 */
-(void)fetchRealTimeDataWithSuccessBlock:(void(^)(HETBLEMattressDeviceInfo *deviceInfo))successBlock
                               FailBlock:(void(^)(NSError* error))failBlock;




@end
